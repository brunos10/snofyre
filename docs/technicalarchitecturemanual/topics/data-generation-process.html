<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Data Generation Process"/>
<meta name="DC.Relation" scheme="URI" content="../topics/snofyre-process-overview.html"/>
<meta name="DC.Relation" scheme="URI" content="../index.html"/>
<meta name="DC.Relation" scheme="URI" content="../topics/snofyre-process-overview.html"/>
<meta name="DC.Creator" content="http://code.google.com/p/snofyre/"/>
<meta name="DC.Creator" content="Jay Kola"/>
<meta name="DC.Publisher" content="NHS Connecting for Health"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="topic-snofyre-data-generation-process"/>
<link rel="stylesheet" type="text/css" href="../commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../gsite.css"/>
<title>Data Generation Process</title>
<script type="text/javascript" src="../prettify-2009-01-08/prettify.js">//filler</script><link rel="stylesheet" type="text/css" href="../prettify-2009-01-08/prettify.css"/><link rel="stylesheet" type="text/css" href="../qwcode.highlight.css"/></head>
<body id="topic-snofyre-data-generation-process"><a name="topic-snofyre-data-generation-process"><!-- --></a>

<div class="breadcrumb"><a class="link" href="../index.html" title="TOC">TOC</a> &gt; <a class="link" href="../topics/snofyre-process-overview.html">Process Overview</a> &gt; </div>
<h1 class="book_title">Snofyre Technical Architecture Manual - Draft</h1>

    <h1 class="title topictitle1">Data Generation Process</h1>

    <div class="body">
        <p class="p">This section provides an overview of how Snofyre generates data and stores the data in
            its database backend. In order to focus on key application logic, this section does not
            describe all the events that occur at the user interface level during data
            generation.</p>

        <div class="p">When the user creates a new query or load an existing query (from file) and pushes the
                <span class="ph uicontrol">Generate Data</span>button, in the <a class="xref" href="../appendix/data-generation-panel.html#topic-data-generation-panel">Data Generation Panel</a>, the user only see a progress bar of data
            generation. The high level steps of this process are shown in the figure below. <div class="fig fignone" id="topic-snofyre-data-generation-process__fig-snofyre-query-execution-process"><a name="topic-snofyre-data-generation-process__fig-snofyre-query-execution-process"><!-- --></a><span class="figcap">Figure 1. Snofyre's Query Execution
                    Process</span>
                <img class="image" src="../images/tech-arch/query-execution-process-overview.png" height="265" width="427"/>
            </div>
</div>

        <div class="section" id="topic-snofyre-data-generation-process__detailed-steps"><a name="topic-snofyre-data-generation-process__detailed-steps"><!-- --></a><h2 class="title sectiontitle">Detailed steps</h2> The steps of this process are
            listed here and are also shown in the figure below. <ul class="ul">
                <li class="li">Snofyre can generate data based on parameters passed in a query.</li>

                <li class="li">The SNOMED CT concept or post-coordinated expressions specified in the <a class="xref" href="../concepts/query-criterion.html#concept-query-criterion">query criterion</a> of a <a class="xref" href="../concepts/queryStatement.html#concept-query-statement">query</a> is identified.</li>

                <li class="li">A random subtype of this <tt class="ph tt">concept</tt> or <tt class="ph tt">post-coordinated
                        expression</tt> is generated by substituting it with its descendant if it is
                    a <tt class="ph tt">concept</tt> or qualifying it along either the optional or definitional
                    attributes if it is a <tt class="ph tt">post-coordinated expression</tt>. </li>

                <li class="li">This random subype <tt class="ph tt">concept</tt> or <tt class="ph tt">post-coordinated expression</tt> is
                    wrapped in a <a class="xref" href="../concepts/clinicalEntry.html#conceptId">Clinical Entry</a> object, with some random timestamp.</li>

                <li class="li">At the same time an existing random patient or a new patient is selected (based
                    on data generation strategy). </li>

                <li class="li">The wrapped <tt class="ph tt">clinical entry</tt> is now added to the this patient's
                    record.</li>

                <li class="li">The patient record is now stored in the backend (MySQL database) and the
                        <span class="ph uicontrol">progress bar</span> in the interface is updated to provide
                    feedback.</li>

            </ul>
<div class="fig fignone" id="topic-snofyre-data-generation-process__fig-snofyre-query-execution-process"><a name="topic-snofyre-data-generation-process__fig-snofyre-query-execution-process"><!-- --></a><span class="figcap">Figure 2. Snofyre's Query Execution
                    Process</span>
                <img class="image" src="../images/tech-arch/data-generation-process-1.png" height="270" width="345"/>
            </div>
<p class="p">Snofyre uses three functional services and its <a class="xref" href="snofyre-information-model-service.html#topic-snofyre-information-model-module" title="This module provides contains a representation of all the Java classes that constitute the Information Model of Snofyre.">Snofyre Information Model Module</a> to perform the various
                tasks in this process. These services are described below. </p>
</div>

        <div class="section"><h2 class="title sectiontitle">Simulator Service</h2>
            
            <div class="p">The <tt class="ph tt">Simulator Service</tt> identifies a random patient or generates a new patient
                record, based on the data generation strategy. It also assigns a random time stamp
                to the <tt class="ph tt">clinical entry</tt> that is used to wrap the <tt class="ph tt">random subtype.
                    </tt><div class="note attention"><span class="attentiontitle">Attention:</span> Please note that the data generation strategy
                    determines if a random existing patient record is used or a new patient record
                    is created. </div>
</div>

        </div>

        <div class="section"><h2 class="title sectiontitle">Random Subtype Generator</h2>
            
            <div class="p">The <tt class="ph tt">Random Subtype Generator</tt> service returns a random <tt class="ph tt">concept</tt> or
                    <tt class="ph tt">post-coordinated expression</tt> for a given expression. Details of the <tt class="ph tt">Random Subtype Generator</tt> are described in the Functional Services Manual.
                    <div class="note attention"><span class="attentiontitle">Attention:</span>  The algorithm used by the <tt class="ph tt">Random Subtype
                        Generator</tt> use recursion and randomise data along many axes. These can
                    be partially configured by the user using the Data Generation Panel. </div>
</div>

        </div>

        <div class="section"><h2 class="title sectiontitle">Information Model Module</h2>
            
            <p class="p">The <tt class="ph tt">Information Model Module</tt> contains all the class modelling needed to add
                a random <tt class="ph tt">concept</tt> or <tt class="ph tt">post-coordinated expression</tt> to an <tt class="ph tt">EHR</tt>.It is further described in the Functional Services Manual and later on in
                    <a class="xref" href="informationModel.html#topic-1">Information Model</a>
                section of this document.</p>

        </div>

        <div class="section"><h2 class="title sectiontitle">Demographics Service</h2>
            
            <div class="p">The <tt class="ph tt">Demographics Service</tt> saves the patient record in the underlying MySQL database. 
                Details of the <tt class="ph tt">Demographics Service</tt> are described in the Functional Services Manual.
                <div class="note attention"><span class="attentiontitle">Attention:</span>  Please note that the <tt class="ph tt">Demographics Service</tt> uses <tt class="ph tt">Hibernate</tt>  to 
                    store the patient data in the backend.
                </div>

            </div>

        </div>

        <p class="p"> The various steps in the process at which these three services act is shown below. </p>

        <div class="fig fignone" id="topic-snofyre-data-generation-process__fig-services-in-query-execution-process"><a name="topic-snofyre-data-generation-process__fig-services-in-query-execution-process"><!-- --></a><span class="figcap">Figure 3. Services involved in Query
                Execution Process</span>
            <img class="image" src="../images/tech-arch/data-generation-process-2.png" height="270" width="406"/>
        </div>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/snofyre-process-overview.html">Process Overview</a></div>
</div>
</div>
<script type="text/javascript">prettyPrint();</script><div id="gc-footer" dir="ltr">
    <hr/>
    <div class="text">
        This manual is still being updated. We apologise for illustrations that still display Snofyre's developmental name (Sappheiros).
        <div class="notice"> SNOMED CT, Java and MySQL are registered trademarks</div>
    </div>
    <hr/>    
</div>
</body>
</html>