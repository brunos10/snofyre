<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Query Execution State"/>
<meta name="DC.subject" content="Query Execution State, Query Execution"/>
<meta name="keywords" content="Query Execution State, Query Execution"/>
<meta name="DC.Relation" scheme="URI" content="../topics/query-execution-process-considerations.html"/>
<meta name="DC.Relation" scheme="URI" content="../index.html"/>
<meta name="DC.Relation" scheme="URI" content="../topics/snofyre-process-overview.html"/>
<meta name="DC.Relation" scheme="URI" content="../topics/query-execution-process-considerations.html"/>
<meta name="DC.Creator" content="http://code.google.com/p/snofyre/"/>
<meta name="DC.Creator" content="Jay Kola"/>
<meta name="DC.Publisher" content="NHS Connecting for Health"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="concept-query-execution-state"/>
<link rel="stylesheet" type="text/css" href="../commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../gsite.css"/>
<title>Query Execution State</title>
<script type="text/javascript" src="../prettify-2009-01-08/prettify.js">//filler</script><link rel="stylesheet" type="text/css" href="../prettify-2009-01-08/prettify.css"/><link rel="stylesheet" type="text/css" href="../qwcode.highlight.css"/></head>
<body id="concept-query-execution-state"><a name="concept-query-execution-state"><!-- --></a>

<div class="breadcrumb"><a class="link" href="../index.html" title="TOC">TOC</a> &gt; <a class="link" href="../topics/snofyre-process-overview.html">Process Overview</a> &gt; <a class="link" href="../topics/query-execution-process-considerations.html">Query Execution Considerations</a> &gt; </div>
<h1 class="book_title">Snofyre Technical Architecture Manual - Draft</h1>

    <h1 class="title topictitle1">Query Execution State</h1>

    
    <div class="body conbody"><p class="p" id="concept-query-execution-state__definition"><a name="concept-query-execution-state__definition"><!-- --></a>Query Execution State refers to inherent state specified on a Query
            Expression that determines if it is included and executed as part of the expressions
            inside the enclosing query.</p>
<p class="p">Snofyre allows a query to encapsulate more than one
            reporting expressions. It then uses the criteria specified by each of these enclosed
            expressions to compute the records that satisfy all criteria specified by the query.
            However, in certain cases, it might be useful to temporarily exclude the criteria
            specified by a contained expression from being included in the computation of the result
            set during query execution. In such cases, it becomes useful to exclude a specified
            query expression being executed along with the other enclosed query expressions. This
            can be achieved by setting the 'execution state' of the query expression to
            'SKIP'.</p>

        <div class="section"><h2 class="title sectiontitle">Query Execution State Options</h2>
            
            <div class="p">Snofyre allows the user to
                specify two execution states. These are described below.
                
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="void" border="1" rules="all"><caption><span class="tablecap">Table 1. Flavours of Query Execution State</span></caption>
                        
                        
                        <thead class="thead" align="left">
                            <tr class="row">
                                <th class="entry" valign="top" width="30%" id="d4412e66">Subsumption Flavour</th>

                                <th class="entry" valign="top" width="70%" id="d4412e69">Short Summary</th>

                            </tr>

                        </thead>

                        <tbody class="tbody">
                            <tr class="row">
                                <td class="entry" valign="top" width="30%" headers="d4412e66 ">EXECUTE</td>

                                <td class="entry" valign="top" width="70%" headers="d4412e69 ">
                                    This state permits the query expression (and its contained search
                                    criteria/tokens) to be included when computing the records that match
                                    the criteria specified by the enclosing query. This is the default
                                    Execution State of all reporting expressions unless otherwise specified
                                    by the user.
                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry" valign="top" width="30%" headers="d4412e66 ">SKIP</td>

                                <td class="entry" valign="top" width="70%" headers="d4412e69 ">   
                                    This state forces Snofyre to exclude the corresponding query
                                    expression during computation of the records that match the criteria
                                    specified by the enclosing query criterion.
                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry" valign="top" width="30%" headers="d4412e66 ">ALL_DESCENDANTS</td>

                                <td class="entry" valign="top" width="70%" headers="d4412e69 ">Specifies that the 'search token' in the Query Criterion and all its
                                    descendant concepts/expressions are to be used to return matches.
                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry" valign="top" width="30%" headers="d4412e66 ">ALL_CHILDREN_EXCEPT_SELF</td>

                                <td class="entry" valign="top" width="70%" headers="d4412e69 ">Specifies that all the children of the 'search token' in the Query
                                    Criterion but not the 'search token' itself are to be used to return
                                    matches.
                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry" valign="top" width="30%" headers="d4412e66 ">ALL_DESCENDANTS_EXCEPT_SELF</td>

                                <td class="entry" valign="top" width="70%" headers="d4412e69 ">Specifies that all the descendants of the 'search token' in the Query
                                    Criterion but not the 'search token' itself are to be used to return
                                    matches.
                                </td>

                            </tr>

                        </tbody>

                    </table>
</div>

            </div>

        </div>

        <div class="example">For example the following query returns all patients who
            had both 'Hypertension' and 'Diabetes'. <div class="p">Query | All patients with Diabetes AND Hypertension | is a query
            that contains three query criteria; <ol class="ol">
                <li class="li">QueryCriterion (with query term of 'Diabetes')</li>

                <li class="li">QueryCriterion (with query term 'Hypertension')</li>

                <li class="li">Intersection Expression that contains QueryCriterion objects #1 and #2</li>

            </ol>
</div>
<p class="p">However,
                setting the Execution State of Sub Query #2 to <em class="ph i"><strong class="ph b">SKIP</strong></em> will only return
                patients who had 'Hypertension'.</p>
</div>
</div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/query-execution-process-considerations.html">Query Execution Considerations</a></div>
</div>
</div>
<script type="text/javascript">prettyPrint();</script><div id="gc-footer" dir="ltr">
    <hr/>
    <div class="text">
        This manual is still being updated. We apologise for illustrations that still display Snofyre's developmental name (Sappheiros).
        <div class="notice"> SNOMED CT, Java and MySQL are registered trademarks</div>
    </div>
    <hr/>    
</div>
</body>
</html>